<dom-module id="poly-app">
	<template>
		<paper-drawer-panel>
			<div drawer>
				<paper-menu selected="{{selected}}">
					<paper-icon-item>
						<paper-ripple></paper-ripple>
						<iron-icon icon="icons:polymer" item-icon></iron-icon> Timeline
					</paper-icon-item>

					<paper-icon-item>
						<paper-ripple></paper-ripple>
						<iron-icon icon="av:play-circle-filled" item-icon></iron-icon> My Music
					</paper-icon-item>
					<paper-icon-item>
						<paper-ripple></paper-ripple>
						<iron-icon icon="av:library-music" item-icon></iron-icon> Poly Music
					</paper-icon-item>
					<paper-icon-item>
						<paper-ripple></paper-ripple>
						<iron-icon icon="social:group" item-icon></iron-icon> Users
					</paper-icon-item>

				</paper-menu>
			</div>


            <div main>
				<iron-pages selected="{{selected}}">
					<section>
						<poly-timeline></poly-timeline>
					</section>

					<section>
						<poly-user-music></poly-user-music>
					</section>
					<section>
						<poly-daily-music></poly-daily-music>
					</section>
					<section>
						<poly-users></poly-users>
					</section>

				</iron-pages>
			</div>
		</paper-drawer-panel>

		<expense-editor id="expenseEditor" ></expense-editor>

		<poly-player id="poly-player"></poly-player>
	</template>

	<script>
		Polymer({
			is: 'poly-app',
			properties: {
				selected: {
					type: Number,
					value: 1
				}
			},
            listeners: {
                'edit-expense': '_editExpense',
                'expenses-updated': '_expensesUpdated',
                'expense-saved': '_saveExpense',
                'delete-expense': '_deleteExpense'
            },

            ready: function() {

			},
            _editExpense: function(evt) {
                if (evt && evt.detail) {
                    var expense = evt.detail;
                    this.$.expenseEditor.open(expense);
                }
            },
		});
	</script>
</dom-module>
